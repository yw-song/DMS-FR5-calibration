"""
实现的功能：
 - 与机械臂进行通信
 - 移动到 pose1
"""
from fairino import Robot

robot = Robot.RPC("192.168.57.2")
ret, version = robot.GetSDKVersion()  # 查询SDK版本号
if ret == 0:
    print("SDK版本号为", version)
else:
    print("查询失败，错误码为", ret)

home_pos1 = [-142.707, -6.514, 1073.997, -90.002, 0, 47.052]
joint_home_pos2 = [-42.947, -90, 90, -90.00, -90.00, 0]
desc_pos1 = [-499.517403465031, 351.327880620659, 80.0000, 0, 0, -135]
desc_pos2 = [-603.269374614243, 514.769073916498, 80.0000, 0, 0, -135]
desc_pos3 = [-485.919997810153, 591.465779314788, 80.0000, 0, 0, -135]
desc_pos4 = [-467.038720496127, 458.515783986735, 80.0000, 0, 0, -135]
desc_pos5 = [-492.739022420252, 378.115628200583, 80.0000, 0, 0, -135]
desc_pos6 = [-481.201396690559, 431.189251175228, 80.0000, 0, 0, -135]
desc_pos7 = [-556.285243301269, 454.635251978848, 80.0000, 0, 0, -135]
desc_pos8 = [-460.475643056741, 605.091217555692, 80.0000, 0, 0, -135]
desc_pos9 = [-630.133983479660, 493.993563922572, 80.0000, 0, 0, -135]
desc_pos10 = [-554.279217090942, 550.935810080045, 80.0000, 0, 0, -135]
desc_pos11 = [-476.939383910916, 590.355132488989, 80.0000, 0, 0, -135]
desc_pos12 = [-492.850404967073, 374.996615842579, 80.0000, 0, 0, -135]
desc_pos13 = [-650.034895159613, 497.121561841819, 80.0000, 0, 0, -135]
desc_pos14 = [-513.324618948951, 397.257286197338, 80.0000, 0, 0, -135]
desc_pos15 = [-464.653660248620, 408.636079387351, 80.0000, 0, 0, -135]
desc_pos16 = [-536.578497593186, 570.127831171614, 80.0000, 0, 0, -135]
desc_pos17 = [-524.481521325246, 366.271592548954, 80.0000, 0, 0, -135]
desc_pos18 = [-504.300831628230, 488.000827095165, 80.0000, 0, 0, -135]
desc_pos19 = [-513.325692009394, 515.802841842489, 80.0000, 0, 0, -135]
desc_pos20 = [-462.914056237876, 590.006824105765, 80.0000, 0, 0, -135]

desc_pos21 = [-499.517403465031, 351.327880620659, 85.0000, 0, 0, -135]
desc_pos22 = [-603.269374614243, 514.769073916498, 85.0000, 0, 0, -135]
desc_pos23 = [-485.919997810153, 591.465779314788, 85.0000, 0, 0, -135]
desc_pos24 = [-467.038720496127, 458.515783986735, 85.0000, 0, 0, -135]
desc_pos25 = [-492.739022420252, 378.115628200583, 85.0000, 0, 0, -135]
desc_pos26 = [-481.201396690559, 431.189251175228, 85.0000, 0, 0, -135]
desc_pos27 = [-556.285243301269, 454.635251978848, 85.0000, 0, 0, -135]
desc_pos28 = [-460.475643056741, 605.091217555692, 85.0000, 0, 0, -135]
desc_pos29 = [-630.133983479660, 493.993563922572, 85.0000, 0, 0, -135]
desc_pos30 = [-554.279217090942, 550.935810080045, 85.0000, 0, 0, -135]
desc_pos31 = [-476.939383910916, 590.355132488989, 83.0000, 0, 0, -135]
desc_pos32 = [-492.850404967073, 374.996615842579, 82.0000, 0, 0, -135]
desc_pos33 = [-650.034895159613, 497.121561841819, 81.0000, 0, 0, -135]
desc_pos34 = [-513.324618948951, 397.257286197338, 86.0000, 0, 0, -135]
desc_pos35 = [-464.653660248620, 408.636079387351, 87.0000, 0, 0, -135]
desc_pos36 = [-536.578497593186, 570.127831171614, 88.0000, 0, 0, -135]
desc_pos37 = [-524.481521325246, 366.271592548954, 85.0000, 0, 0, -135]
desc_pos38 = [-504.300831628230, 488.000827095165, 84.0000, 0, 0, -135]
desc_pos39 = [-513.325692009394, 515.802841842489, 83.0000, 0, 0, -135]
desc_pos40 = [-462.914056237876, 590.006824105765, 81.0000, 0, 0, -135]

# 中心点坐标
center = [-266.6542561, 498.4843237, 80, -179.999, 0, 47]

# 偏移量
offset_xy = 150
offset_z = 38

# 计算其他点的坐标
circle_point1_top = [center[0] + offset_xy, center[1], center[2], center[3], center[4], center[5]]
circle_point1 = [center[0] + offset_xy, center[1], center[2] - offset_z, center[3], center[4], center[5]]
circle_point2 = [center[0], center[1] + offset_xy, center[2] - offset_z, center[3], center[4], center[5]]
circle_point3 = [center[0] - offset_xy, center[1], center[2] - offset_z, center[3], center[4], center[5]]

tool = 0  # 工具坐标系编号
user = 0  # 工件坐标系编号

"""# 绘制圆形
ret = robot.MoveJ(joint_home_pos2, tool, user)  # PTP运动
ret = robot.MoveL(center, tool, user)  # 笛卡尔空间直线运动
ret = robot.MoveL(circle_point1_top, tool, user)  # 笛卡尔空间直线运动
ret = robot.MoveL(circle_point1, tool, user)  # 笛卡尔空间直线运动
ret = robot.Circle(circle_point2, tool, user, circle_point3, tool, user)  #笛卡尔空间圆弧运动
ret = robot.MoveL(circle_point1_top, tool, user)  # 笛卡尔空间直线运动
ret = robot.MoveJ(joint_home_pos2, tool, user)  # PTP运动"""

ret = robot.MoveL(desc_pos1, tool, user)  # 笛卡尔空间直线运动

ret = robot.GetActualToolFlangePose()
print("获取当前关节位置 (角度)", ret)

